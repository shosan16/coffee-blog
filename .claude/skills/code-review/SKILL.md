---
name: code-review
description: コードレビューの観点とチェックリストを提供します。コードレビュー時、自己レビュー時に参照してください。
user-invocable: true
---

## コードレビュー観点

### 1. 設計・実装原則

- 4大原則（YAGNI・KISS・SOLID・DRY）への準拠
- 命名の明確性と一貫性
- TypeScript型安全性

### 2. UI一貫性・アクセシビリティ

- コンポーネントの適切な分解
- ARIA属性、セマンティックHTML
- 既存UIコンポーネントの再利用

### 3. パフォーマンス最適化

- 不要な再レンダリング防止
- Server Components優先
- キャッシュ戦略

### 4. エラーハンドリング

- 非同期操作の例外処理
- error.js/not-found.js の使用
- ユーザー向けエラーと開発者ログの分離

### 5. セキュリティ

- SSR/ISRでの情報漏洩防止
- XSS保護
- Zodによる入力検証

### 6. テスト

- 新機能に対応するテストの存在
- カバレッジの確認
- AAA パターンの遵守

### 7. Next.js構造

- appディレクトリ構造
- 動的ルーティング
- Server/Client Component の使い分け

### 8. 非同期処理

- async/awaitエラーハンドリング
- 状態管理の選択

### 9. コードスタイル

- `import *` の禁止（名前付きインポートを使用）
- インポート順序の統一（外部→内部→相対）
- 未使用インポートの削除

## 出力形式

1. **概要**: 変更の簡潔な概要と全体評価
2. **重要な問題**: 必須修正が必要な問題（優先度高）
3. **改善提案**: より良いコードのための提案（優先度中）
4. **良い点**: 適切に実装された部分の評価
5. **アクションアイテム**: 推奨変更の優先順位付きリスト

## ドキュメントレビュー観点

- JSDocの有無（公開関数）
- WHYルール準拠（HOWではなくWHYを記載）
- 設計原則コメントの禁止
- リファクタリング優先（コメントで説明が必要な複雑さは解消を提案）
