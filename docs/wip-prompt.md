これからコーヒーレシピ管理システムのAPIに関するアイディアを壁打ちします。
このアイディアを実現するための詳細な技術仕様を @recipes.md にまとめてください。

## 目的

@recipes.tsのようなコーヒーレシピデータを返すRESTful APIを作成したい。
このAPIは以下の機能を持つようにしたい：

## 機能要件

1. レシピ一覧の取得
   - 以下の条件によるフィルタリング機能：
     - 焙煎度 （浅煎り、中煎り、深煎り）
     - 挽き目（極細挽き、細挽き、中挽き、粗挽き）
     - 使用機器（複数選択可能）
     - コーヒー豆の量（範囲指定）
     - お湯の温度（範囲指定）
     - フリーワード検索（タイトル・説明文）

   - 以下の項目によるソート機能：
     - タイトル（アルファベット順/五十音順）
     - 新着順/更新順
     - コーヒー豆の量（少ない順/多い順）
     - 水の総量（少ない順/多い順）
     - お湯の温度（低い順/高い順）

   - ページネーション機能（1ページあたり20件など）

2. 状態の永続化
   - ユーザーがページを移動して一覧画面に戻っても、フィルタリングやソートの状態が保持されていること
   - URLパラメータとSWRのcache/revalidationを組み合わせた状態管理

3. パフォーマンスとキャッシュ
   - APIレスポンスタイムは300ms以内を目標とする
   - SWRのキャッシュ機能とNext.jsのキャッシュを連携させた最適化
   - SWRのstale-while-revalidateパターンを活用したUX向上

## 技術スタック

- フロントエンド・バックエンド共通：Next.js（App Router）+ TypeScript
- データフェッチング：SWR
- APIルート：Next.jsのAPI Routes
- データベース：PostgreSQL（Prismaを使用）

## 参照資料

- データベース構造：@schema.prisma
- ER図：@er-diagram.mdc
- APIレスポンス形式の例：@recipes.ts

## 成果物に含めるべき項目

- API設計
  - エンドポイント
  - リクエスト/レスポンス形式
